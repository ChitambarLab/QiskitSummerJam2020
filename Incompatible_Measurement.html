


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.3.3">
    
    
      
        <title>Incompatible Measurement Test - Qiskit Summer Jam 2020</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.fe0cca5b.min.css">
      
        <link rel="stylesheet" href="assets/stylesheets/palette.a46bcfb3.min.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#measurement-incompatibility-testing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="." title="Qiskit Summer Jam 2020" class="md-header-nav__button md-logo" aria-label="Qiskit Summer Jam 2020">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Qiskit Summer Jam 2020
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Incompatible Measurement Test
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Qiskit Summer Jam 2020" class="md-nav__button md-logo" aria-label="Qiskit Summer Jam 2020">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Qiskit Summer Jam 2020
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="device_independent_handshake_protocol.html" title="Verification Protocol" class="md-nav__link">
      Verification Protocol
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Qiskit Examples
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Qiskit Examples" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Qiskit Examples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="Classical_Dimension_Test.html" title="Classical Dimension Test" class="md-nav__link">
      Classical Dimension Test
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Incompatible Measurement Test
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="Incompatible_Measurement.html" title="Incompatible Measurement Test" class="md-nav__link md-nav__link--active">
      Incompatible Measurement Test
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#test-description" class="md-nav__link">
    Test Description
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-setup" class="md-nav__link">
    Test Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-circuit" class="md-nav__link">
    Test Circuit
  </a>
  
    <nav class="md-nav" aria-label="Test Circuit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#state-preparation" class="md-nav__link">
    State Preparation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incompatible-measurements" class="md-nav__link">
    Incompatible Measurements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-on-the-simulator" class="md-nav__link">
    Running on the Simulator
  </a>
  
    <nav class="md-nav" aria-label="Running on the Simulator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#outcome-statistics" class="md-nav__link">
    Outcome Statistics
  </a>
  
    <nav class="md-nav" aria-label="Outcome Statistics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#statistics-for-y-0" class="md-nav__link">
    Statistics for y = 0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#statistics-for-y-1" class="md-nav__link">
    Statistics for y = 1
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifying-bell-violation" class="md-nav__link">
    Verifying Bell Violation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-test-on-a-quantum-computer" class="md-nav__link">
    Running the Test on a Quantum Computer
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="Entanglement.html" title="Entanglement Test" class="md-nav__link">
      Entanglement Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="when_tests_fail.html" title="Validating Test Failures" class="md-nav__link">
      Validating Test Failures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="simulator_vs_quantum.html" title="Simulator vs. Quantum Machine" class="md-nav__link">
      Simulator vs. Quantum Machine
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Device-Independence Theory
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Device-Independence Theory" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Device-Independence Theory
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="theory_device_independent_tests.html" title="Device-Independent Tests" class="md-nav__link">
      Device-Independent Tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="theory_dimension_tests.html" title="Verifying Dimension" class="md-nav__link">
      Verifying Dimension
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="Theory_for_Incompatible_Measurement_Test.html" title="Verifying Measurements" class="md-nav__link">
      Verifying Measurements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="CHSH_theory.html" title="Verifying Entanglement" class="md-nav__link">
      Verifying Entanglement
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Software Documentation
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Software Documentation" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Software Documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="Device_Independent_Test_Documentation.html" title="device_independent_test Module" class="md-nav__link">
      device_independent_test Module
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="Quantum_Communicator_Example.html" title="Dispatcher Example" class="md-nav__link">
      Dispatcher Example
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#test-description" class="md-nav__link">
    Test Description
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-setup" class="md-nav__link">
    Test Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-circuit" class="md-nav__link">
    Test Circuit
  </a>
  
    <nav class="md-nav" aria-label="Test Circuit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#state-preparation" class="md-nav__link">
    State Preparation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incompatible-measurements" class="md-nav__link">
    Incompatible Measurements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-on-the-simulator" class="md-nav__link">
    Running on the Simulator
  </a>
  
    <nav class="md-nav" aria-label="Running on the Simulator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#outcome-statistics" class="md-nav__link">
    Outcome Statistics
  </a>
  
    <nav class="md-nav" aria-label="Outcome Statistics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#statistics-for-y-0" class="md-nav__link">
    Statistics for y = 0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#statistics-for-y-1" class="md-nav__link">
    Statistics for y = 1
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifying-bell-violation" class="md-nav__link">
    Verifying Bell Violation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-test-on-a-quantum-computer" class="md-nav__link">
    Running the Test on a Quantum Computer
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="measurement-incompatibility-testing">Measurement Incompatibility Testing<a class="headerlink" href="#measurement-incompatibility-testing" title="Permanent link">&para;</a></h1>
<h2 id="test-description">Test Description<a class="headerlink" href="#test-description" title="Permanent link">&para;</a></h2>
<p>This test runs a single-qubit bell that requires superposition states and incompatible measurments. Alice and Bob Perform the protocol:</p>
<ol>
<li>Alice receives an input <span><span class="MathJax_Preview">x \in \{0,1,2,3\}</span><script type="math/tex">x \in \{0,1,2,3\}</script></span> and encodes it into the BB84 qubit states <span><span class="MathJax_Preview">|\psi_x\rangle \in \{|0\rangle, |1\rangle, |+\rangle, |-\rangle \}</span><script type="math/tex">|\psi_x\rangle \in \{|0\rangle, |1\rangle, |+\rangle, |-\rangle \}</script></span>.</li>
<li>Bob Measures the states using two incompatible binary projective measurements conditioned on <span><span class="MathJax_Preview">y\in\{0,1\}</span><script type="math/tex">y\in\{0,1\}</script></span>.</li>
<li>Bob outputs the binary measurement result <span><span class="MathJax_Preview">b\in\{0,1\}</span><script type="math/tex">b\in\{0,1\}</script></span></li>
</ol>
<p><img src="img/qubit_bell_violation.png" alt="Drawing" style="width: 400px;"/></p>
<p>The classical bound in this scenario is</p>
<div>
<div class="MathJax_Preview">
6 \geq \Big(p(0|00) + p(1|10) + p(0|20) + p(1|30)\Big) + \Big(p(1|01) + p(0|11) + p(0|21) + p(1|31)\Big).
</div>
<script type="math/tex; mode=display">
6 \geq \Big(p(0|00) + p(1|10) + p(0|20) + p(1|30)\Big) + \Big(p(1|01) + p(0|11) + p(0|21) + p(1|31)\Big).
</script>
</div>
<p>However, quantum systems can achieve a score of <span><span class="MathJax_Preview">6.828</span><script type="math/tex">6.828</script></span>.</p>
<h2 id="test-setup">Test Setup<a class="headerlink" href="#test-setup" title="Permanent link">&para;</a></h2>
<p>The device-independent test is prototyped on a single circuit of a quantum computer. To reduce the test runtime, Alice's inputs are parallelized over 4 independent qubit registers. Parallelizing the circuits will not skew the test results under the assumption that the IBM quantum computer executes its commands faithfully. </p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Importing standard Qiskit libraries and configuring account</span>
<span class="kn">from</span> <span class="nn">qiskit</span> <span class="kn">import</span> <span class="n">QuantumCircuit</span><span class="p">,</span> <span class="n">execute</span><span class="p">,</span> <span class="n">IBMQ</span>
<span class="kn">from</span> <span class="nn">qiskit.tools.jupyter</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">qiskit.visualization</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">qiskit.providers.ibmq.managed</span> <span class="kn">import</span> <span class="n">IBMQJobManager</span>

<span class="c1"># Loading your IBM Q account(s)</span>
<span class="n">provider</span> <span class="o">=</span> <span class="n">IBMQ</span><span class="o">.</span><span class="n">load_account</span><span class="p">()</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="c1"># custom code</span>
<span class="kn">import</span> <span class="nn">context</span>
<span class="kn">from</span> <span class="nn">device_independent_test</span> <span class="kn">import</span> <span class="n">incompatible_measurement</span>
<span class="kn">from</span> <span class="nn">device_independent_test.quantum_communicator</span> <span class="kn">import</span> <span class="n">LocalDispatcher</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code>ibmqfactory.load_account:WARNING:2020-07-01 10:19:41,668: Credentials are already in use. The existing account in the session will be replaced.
</code></pre></div>


<h2 id="test-circuit">Test Circuit<a class="headerlink" href="#test-circuit" title="Permanent link">&para;</a></h2>
<h3 id="state-preparation">State Preparation<a class="headerlink" href="#state-preparation" title="Permanent link">&para;</a></h3>
<p>Alice prepares the BB84 states.</p>
<div class="codehilite"><pre><span></span><code><span class="n">bb84_states</span> <span class="o">=</span> <span class="n">incompatible_measurement</span><span class="o">.</span><span class="n">bb84_states</span><span class="p">()</span>
<span class="n">bb84_states</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</code></pre></div>


<pre style="word-wrap: normal;white-space: pre;background: #fff0;line-height: 1.1;font-family: &quot;Courier New&quot;,Courier,monospace">               
q_0: ──────────
     ┌───┐     
q_1: ┤ X ├─────
     ├───┤     
q_2: ┤ H ├─────
     ├───┤┌───┐
q_3: ┤ X ├┤ H ├
     └───┘└───┘</pre>

<h3 id="incompatible-measurements">Incompatible Measurements<a class="headerlink" href="#incompatible-measurements" title="Permanent link">&para;</a></h3>
<p>Incompatible measurements are constructed by applying rotations before measurements in the computational basis. In the protocol, the measurement bases are conditioned off the input <span><span class="MathJax_Preview">y</span><script type="math/tex">y</script></span>. Therefore, we collect data from two circuits running on the quantum computer, one for <span><span class="MathJax_Preview">y=0</span><script type="math/tex">y=0</script></span> and the other for <span><span class="MathJax_Preview">y=1</span><script type="math/tex">y=1</script></span>.</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Bob&#39;s measurement circuit</span>
<span class="c1"># measure in either pi/4 or 3pi/4 basis</span>
<span class="k">def</span> <span class="nf">measure_circuit</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
    <span class="n">qc</span> <span class="o">=</span> <span class="n">QuantumCircuit</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span> <span class="o">+</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">y</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
    <span class="n">qc</span><span class="o">.</span><span class="n">u3</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
    <span class="n">qc</span><span class="o">.</span><span class="n">measure_all</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">qc</span>

<span class="n">qc_y0</span> <span class="o">=</span> <span class="n">bb84_states</span> <span class="o">+</span> <span class="n">measure_circuit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">qc_y0</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</code></pre></div>


<pre style="word-wrap: normal;white-space: pre;background: #fff0;line-height: 1.1;font-family: &quot;Courier New&quot;,Courier,monospace">        ┌───────────────┐                                   ░ ┌─┐         
   q_0: ┤ U3(-pi/4,0,0) ├───────────────────────────────────░─┤M├─────────
        └─────┬───┬─────┘┌───────────────┐                  ░ └╥┘┌─┐      
   q_1: ──────┤ X ├──────┤ U3(-pi/4,0,0) ├──────────────────░──╫─┤M├──────
              ├───┤      ├───────────────┤                  ░  ║ └╥┘┌─┐   
   q_2: ──────┤ H ├──────┤ U3(-pi/4,0,0) ├──────────────────░──╫──╫─┤M├───
              ├───┤      └─────┬───┬─────┘┌───────────────┐ ░  ║  ║ └╥┘┌─┐
   q_3: ──────┤ X ├────────────┤ H ├──────┤ U3(-pi/4,0,0) ├─░──╫──╫──╫─┤M├
              └───┘            └───┘      └───────────────┘ ░  ║  ║  ║ └╥┘
meas_0: ═══════════════════════════════════════════════════════╩══╬══╬══╬═
                                                                  ║  ║  ║ 
meas_1: ══════════════════════════════════════════════════════════╩══╬══╬═
                                                                     ║  ║ 
meas_2: ═════════════════════════════════════════════════════════════╩══╬═
                                                                        ║ 
meas_3: ════════════════════════════════════════════════════════════════╩═
                                                                          </pre>

<div class="codehilite"><pre><span></span><code><span class="c1"># y = 1</span>
<span class="n">qc_y1</span> <span class="o">=</span> <span class="n">bb84_states</span> <span class="o">+</span> <span class="n">measure_circuit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">qc_y1</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</code></pre></div>


<pre style="word-wrap: normal;white-space: pre;background: #fff0;line-height: 1.1;font-family: &quot;Courier New&quot;,Courier,monospace">        ┌────────────────┐                                     ░ ┌─┐         
   q_0: ┤ U3(-3pi/4,0,0) ├─────────────────────────────────────░─┤M├─────────
        └─────┬───┬──────┘┌────────────────┐                   ░ └╥┘┌─┐      
   q_1: ──────┤ X ├───────┤ U3(-3pi/4,0,0) ├───────────────────░──╫─┤M├──────
              ├───┤       ├────────────────┤                   ░  ║ └╥┘┌─┐   
   q_2: ──────┤ H ├───────┤ U3(-3pi/4,0,0) ├───────────────────░──╫──╫─┤M├───
              ├───┤       └─────┬───┬──────┘┌────────────────┐ ░  ║  ║ └╥┘┌─┐
   q_3: ──────┤ X ├─────────────┤ H ├───────┤ U3(-3pi/4,0,0) ├─░──╫──╫──╫─┤M├
              └───┘             └───┘       └────────────────┘ ░  ║  ║  ║ └╥┘
meas_0: ══════════════════════════════════════════════════════════╩══╬══╬══╬═
                                                                     ║  ║  ║ 
meas_1: ═════════════════════════════════════════════════════════════╩══╬══╬═
                                                                        ║  ║ 
meas_2: ════════════════════════════════════════════════════════════════╩══╬═
                                                                           ║ 
meas_3: ═══════════════════════════════════════════════════════════════════╩═
                                                                             </pre>

<h2 id="running-on-the-simulator">Running on the Simulator<a class="headerlink" href="#running-on-the-simulator" title="Permanent link">&para;</a></h2>
<p>The following code block uses our dispatcher to batch run the prepare and measure circuits on the Qiskit simulator. </p>
<div class="codehilite"><pre><span></span><code><span class="n">dispatcher</span> <span class="o">=</span> <span class="n">LocalDispatcher</span><span class="p">([</span><span class="n">provider</span><span class="o">.</span><span class="n">get_backend</span><span class="p">(</span><span class="s1">&#39;ibmq_qasm_simulator&#39;</span><span class="p">)])</span>
<span class="n">shots</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="n">counts</span> <span class="o">=</span> <span class="n">dispatcher</span><span class="o">.</span><span class="n">batch_run_and_transmit</span><span class="p">(</span>
    <span class="p">[</span><span class="n">incompatible_measurement</span><span class="o">.</span><span class="n">bb84_states</span><span class="p">()],</span>
    <span class="p">[[</span><span class="n">QuantumCircuit</span><span class="p">(</span><span class="mi">4</span><span class="p">)],[</span><span class="n">measure_circuit</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="n">measure_circuit</span><span class="p">(</span><span class="mi">1</span><span class="p">)]],</span>
    <span class="n">shots</span>
<span class="p">)</span>
</code></pre></div>


<h3 id="outcome-statistics">Outcome Statistics<a class="headerlink" href="#outcome-statistics" title="Permanent link">&para;</a></h3>
<p>The outcome statistics for each test are displayed.</p>
<h4 id="statistics-for-y-0">Statistics for y = 0<a class="headerlink" href="#statistics-for-y-0" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="n">plot_histogram</span><span class="p">(</span><span class="n">counts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</code></pre></div>


<p><img alt="png" src="Incompatible_Measurement_files/Incompatible_Measurement_11_0.png" /></p>
<h4 id="statistics-for-y-1">Statistics for y = 1<a class="headerlink" href="#statistics-for-y-1" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="n">plot_histogram</span><span class="p">(</span><span class="n">counts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</code></pre></div>


<p><img alt="png" src="Incompatible_Measurement_files/Incompatible_Measurement_13_0.png" /></p>
<h3 id="verifying-bell-violation">Verifying Bell Violation<a class="headerlink" href="#verifying-bell-violation" title="Permanent link">&para;</a></h3>
<p>The outcome statistics can be used to compute the score against the bell inequality. The classical bound is 6, but our quantum protocol can achieve a score of 6.828.</p>
<div class="codehilite"><pre><span></span><code><span class="n">bell_violation</span> <span class="o">=</span> <span class="n">incompatible_measurement</span><span class="o">.</span><span class="n">bell_violation</span><span class="p">(</span><span class="n">counts</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">counts</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">shots</span><span class="p">,</span> <span class="n">shots</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;classical bound : &quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;bell violation : &quot;</span><span class="p">,</span> <span class="n">bell_violation</span><span class="p">)</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code>classical bound :  6
bell violation :  6.83
</code></pre></div>


<h2 id="running-the-test-on-a-quantum-computer">Running the Test on a Quantum Computer<a class="headerlink" href="#running-the-test-on-a-quantum-computer" title="Permanent link">&para;</a></h2>
<p>We use the handshake class to run the device-independent for our handshake protocol. The test is run on the <code>'ibmq_16_melbourne'</code> quantum computer. </p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">device_independent_test.handshake</span> <span class="kn">import</span> <span class="n">HandShake</span>

<span class="n">dispatcher</span> <span class="o">=</span> <span class="n">LocalDispatcher</span><span class="p">([</span><span class="n">provider</span><span class="o">.</span><span class="n">get_backend</span><span class="p">(</span><span class="s1">&#39;ibmq_16_melbourne&#39;</span><span class="p">)])</span>
<span class="n">handshake</span> <span class="o">=</span> <span class="n">HandShake</span><span class="p">(</span><span class="n">dispatcher</span><span class="p">)</span>

<span class="n">shots</span> <span class="o">=</span> <span class="mi">2000</span>
<span class="n">tolerance</span> <span class="o">=</span> <span class="mf">0.4</span>
<span class="n">handshake</span><span class="o">.</span><span class="n">measurement_incompatibility</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="n">shots</span><span class="p">)</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code>Passed Measurment Incompatibility with value:  6.558





(True, 6.558)
</code></pre></div>


<p>The quantum computer violates the classical bound of 6, but does not achieve the optimal quantum score, 6.828. This is likely due to noise inherent in running the quantum computer. In bipartite communication scenarios, the allowable amount of error, will have to be tailored for the protocols which will run once our verification handshake is complete.  </p>
<div class="codehilite"><pre><span></span><code>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="Classical_Dimension_Test.html" title="Classical Dimension Test" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Classical Dimension Test
              </div>
            </div>
          </a>
        
        
          <a href="Entanglement.html" title="Entanglement Test" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Entanglement Test
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="assets/javascripts/bundle.4a5ba8d6.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: ".",
          features: [],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.9b3611bd.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML"></script>
      
    
  </body>
</html>